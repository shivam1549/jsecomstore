<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>

    <div class="container p-5">
        <div class="row">
            <div class="col-md-4">
                <div id="imgslider">

                </div>
            </div>
            <div class="col-md-8">
                <div class="productinner">

                </div>
            </div>
        </div>
    </div>
    
</body>

<script>
     const productarray = [
        {
            "id": 1,
            "title": "Black Men T Shirts",
            "Price": 400,
            "Description": "Black Men T Shirts",
            "longdescription": "lorem ipsum",
            "image": "https://static.aceomni.cmsaceturtle.com/prod/product-image/aceomni/Wrangler/Monobrand/WMSH003708/WMSH003708_1.jpg",
            "galleryimages": ["https://static.aceomni.cmsaceturtle.com/prod/product-image/aceomni/Wrangler/Myntra/WMSH004571/WMSH004571_1.jpg", "https://static.aceomni.cmsaceturtle.com/prod/product-image/aceomni/Wrangler/Myntra/WMSH004572/WMSH004572_1.jpg"],
            "category": ["clothing", "men"],
            "attributes": {
                "color": ["red", "black", "blue"],
                "size": ["S", "M", "XL"]
            },
            "variations": [
                {
                    "color": "red",
                    "size": "S",
                    "price": 40
                },
                {
                    "color": "red",
                    "size": "M",
                    "price": 50
                },
                {
                    "color": "red",
                    "size": "XL",
                    "price": 60
                },
                {
                    "color": "black",
                    "size": "S",
                    "price": 45
                },
                {
                    "color": "black",
                    "size": "M",
                    "price": 55
                },
                {
                    "color": "black",
                    "size": "XL",
                    "price": 65
                },
                {
                    "color": "blue",
                    "size": "S",
                    "price": 50
                },
                {
                    "color": "blue",
                    "size": "M",
                    "price": 60
                },
                {
                    "color": "blue",
                    "size": "XL",
                    "price": 70
                }
            ]
        },
        {
            "id": 2,
            "title": "Running Shoes",
            "Price": 800,
            "Description": "Comfortable running shoes",
            "longdescription": "lorem ipsum",
            "image": "https://example.com/images/shoes1.jpg",
            "galleryimages": '',
            "category": ["footwear", "unisex"],
            "attributes": {
                "color": ["white", "black", "green"],
                "size": ["7", "8", "9", "10"]
            },
            "variations": [
                {
                    "color": "white",
                    "size": "7",
                    "price": 100
                },
                {
                    "color": "white",
                    "size": "8",
                    "price": 110
                },
                {
                    "color": "white",
                    "size": "9",
                    "price": 120
                },
                {
                    "color": "white",
                    "size": "10",
                    "price": 130
                },
                {
                    "color": "black",
                    "size": "7",
                    "price": 105
                },
                {
                    "color": "black",
                    "size": "8",
                    "price": 115
                },
                {
                    "color": "black",
                    "size": "9",
                    "price": 125
                },
                {
                    "color": "black",
                    "size": "10",
                    "price": 135
                },
                {
                    "color": "green",
                    "size": "7",
                    "price": 110
                },
                {
                    "color": "green",
                    "size": "8",
                    "price": 120
                },
                {
                    "color": "green",
                    "size": "9",
                    "price": 130
                },
                {
                    "color": "green",
                    "size": "10",
                    "price": 140
                }
            ]
        },
        {
            "id": 3,
            "title": "Slim Fit Jeans",
            "Price": 600,
            "Description": "Stylish slim fit jeans",
            "longdescription": "lorem ipsum",
            "image": "https://example.com/images/jeans1.jpg",
            "galleryimages": '',
            "category": ["clothing", "men"],
            "attributes": {
                "color": ["blue", "black"],
                "size": ["30", "32", "34", "36"]
            },
            "variations": [
                {
                    "color": "blue",
                    "size": "30",
                    "price": 60
                },
                {
                    "color": "blue",
                    "size": "32",
                    "price": 65
                },
                {
                    "color": "blue",
                    "size": "34",
                    "price": 70
                },
                {
                    "color": "blue",
                    "size": "36",
                    "price": 75
                },
                {
                    "color": "black",
                    "size": "30",
                    "price": 65
                },
                {
                    "color": "black",
                    "size": "32",
                    "price": 70
                },
                {
                    "color": "black",
                    "size": "34",
                    "price": 75
                },
                {
                    "color": "black",
                    "size": "36",
                    "price": 80
                }
            ]
        },
        {
            "id": 4,
            "title": "Casual Sneakers",
            "Price": 500,
            "Description": "Trendy casual sneakers",
            "longdescription": "lorem ipsum",
            "image": "https://example.com/images/sneakers1.jpg",
            "galleryimages": '',
            "category": ["footwear", "unisex"],
            "attributes": {
                "color": ["red", "white", "black"],
                "size": ["6", "7", "8", "9"]
            },
            "variations": [
                {
                    "color": "red",
                    "size": "6",
                    "price": 55
                },
                {
                    "color": "red",
                    "size": "7",
                    "price": 60
                },
                {
                    "color": "red",
                    "size": "8",
                    "price": 65
                },
                {
                    "color": "red",
                    "size": "9",
                    "price": 70
                },
                {
                    "color": "white",
                    "size": "6",
                    "price": 60
                },
                {
                    "color": "white",
                    "size": "7",
                    "price": 65
                },
                {
                    "color": "white",
                    "size": "8",
                    "price": 70
                },
                {
                    "color": "white",
                    "size": "9",
                    "price": 75
                },
                {
                    "color": "black",
                    "size": "6",
                    "price": 65
                },
                {
                    "color": "black",
                    "size": "7",
                    "price": 70
                },
                {
                    "color": "black",
                    "size": "8",
                    "price": 75
                },
                {
                    "color": "black",
                    "size": "9",
                    "price": 80
                }
            ]
        },
        {
            "id": 5,
            "title": "Denim Jacket",
            "Price": 1000,
            "Description": "Stylish denim jacket",
            "longdescription": "lorem ipsum",
            "image": "https://example.com/images/jacket1.jpg",
            "galleryimages": '',
            "category": ["clothing", "men"],
            "attributes": {
                "color": ["blue", "black"],
                "size": ["M", "L", "XL"]
            },
            "variations": [
                {
                    "color": "blue",
                    "size": "M",
                    "price": 150
                },
                {
                    "color": "blue",
                    "size": "L",
                    "price": 160
                },
                {
                    "color": "blue",
                    "size": "XL",
                    "price": 170
                },
                {
                    "color": "black",
                    "size": "M",
                    "price": 160
                },
                {
                    "color": "black",
                    "size": "L",
                    "price": 170
                },
                {
                    "color": "black",
                    "size": "XL",
                    "price": 180
                }
            ]
        }
    ];

    showProduct();

    function showProduct(){
        var producthtml = '';
        var productDescription = '';
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        const id= urlParams.get('id');
        // console.log(id)
        var productIndex = productarray.findIndex(item => item.id == parseInt(id));
        
        if(productIndex !== -1){
            // alert(productIndex); 
            producthtml += `
             <div class="swipercontainerwrap">
                    <img class="w-100 swipesimg" src="${productarray[productIndex].image}">`;
            if (productarray[productIndex].galleryimages) {
                productarray[productIndex].galleryimages.map(img => {
                    producthtml += ` <img class="w-100  swipesimg" src="${img}">`;
                })
            }
             producthtml += `</div>`;
             productDescription += `
             <h2>${productarray[productIndex].title}</h2>
             <h5 class="text-success bold mt-2 mb-2"> $ ${productarray[productIndex].Price}</h5>

             <div>${productarray[productIndex].Description}</div>
             `;
            
             document.querySelector(".productinner").innerHTML = productDescription;

             document.querySelector("#imgslider").innerHTML = producthtml;
             showSlides();

        }
    }

    function showSlides() {
            // console.log("first")
            const slideshowContainer = document.querySelector('.swipercontainerwrap');
            const slides = slideshowContainer.querySelectorAll('.swipesimg');
            let currentSlideIndex = 0;

            slides.forEach(slide => {
                slide.style.display = 'none';
            });

            slides[currentSlideIndex].style.display = 'block';

            setInterval(() => {
                slides[currentSlideIndex].style.display = 'none';
                currentSlideIndex = (currentSlideIndex + 1) % slides.length;
                slides[currentSlideIndex].style.display = 'block';
            }, 2000); // 2 seconds interval
        }
</script>

</html>